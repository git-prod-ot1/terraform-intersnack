<mxfile host="drawio-plugin" modified="2024-04-03T09:45:56.284Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="9BxlnQq9ReXlKVYFspMf" version="20.5.3" type="embed"><diagram name="Strona-1" id="QEiGq1GZzRIeu2GMsCd-"><mxGraphModel dx="2638" dy="2307" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="#ffffff" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="IiJWaxdS1WecAF-aATmU-1" target="9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IiJWaxdS1WecAF-aATmU-1" value="&lt;div style=&quot;color: rgb(8, 8, 8);&quot;&gt;&lt;pre style=&quot;font-family:'JetBrains Mono',monospace;font-size:9,8pt;&quot;&gt;process_streams&lt;/pre&gt;&lt;/div&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="1" vertex="1"><mxGeometry x="-486.5" y="-712" width="69" height="72" as="geometry"/></mxCell><mxCell id="2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="IiJWaxdS1WecAF-aATmU-5" target="IiJWaxdS1WecAF-aATmU-1" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="IiJWaxdS1WecAF-aATmU-5" value="every 3 minutes" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" parent="1" vertex="1"><mxGeometry x="-702" y="-715" width="78" height="78" as="geometry"/></mxCell><mxCell id="IiJWaxdS1WecAF-aATmU-47" value="kinesis video" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.kinesis_video_streams;" parent="1" vertex="1"><mxGeometry x="127" y="-766" width="77" height="77" as="geometry"/></mxCell><mxCell id="an-CKFU3sV3JPkz43zPG-1" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="1" vertex="1"><mxGeometry x="126" y="-420" width="78" height="78" as="geometry"/></mxCell><mxCell id="11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="9" target="IiJWaxdS1WecAF-aATmU-47" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="9" y="-504"/><mxPoint x="9" y="-727"/></Array></mxGeometry></mxCell><mxCell id="14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="9" target="13" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="13" target="an-CKFU3sV3JPkz43zPG-1" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="13" target="16" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="13" value="get last processed times for active streams" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-512" y="-430" width="120" height="60" as="geometry"/></mxCell><mxCell id="20" value="yes" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="16" target="19" edge="1"><mxGeometry x="-0.0495" y="20" relative="1" as="geometry"><mxPoint x="-1" as="offset"/></mxGeometry></mxCell><mxCell id="34" value="no" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="16" target="35" edge="1"><mxGeometry x="0.0204" y="-24" relative="1" as="geometry"><mxPoint x="-718" y="-182.5" as="targetPoint"/><mxPoint x="-1" as="offset"/></mxGeometry></mxCell><mxCell id="16" value="have more videos/time left to process?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-575" y="-292" width="246" height="219" as="geometry"/></mxCell><mxCell id="22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="19" target="21" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="19" value="find next clip" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-228" y="-212.5" width="120" height="60" as="geometry"/></mxCell><mxCell id="23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="21" target="an-CKFU3sV3JPkz43zPG-1" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="366" y="-260" as="targetPoint"/><Array as="points"><mxPoint x="-30" y="-76"/><mxPoint x="-30" y="-381"/></Array></mxGeometry></mxCell><mxCell id="26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="21" target="25" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="21" value="move stream last processed index" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-228" y="-106" width="120" height="60" as="geometry"/></mxCell><mxCell id="27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="25" target="an-CKFU3sV3JPkz43zPG-1" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="-264" y="78" as="sourcePoint"/><Array as="points"><mxPoint x="-6" y="31"/><mxPoint x="-6" y="-361"/></Array></mxGeometry></mxCell><mxCell id="31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="25" target="29" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="25" value="send clip data to process" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-228" y="1" width="120" height="60" as="geometry"/></mxCell><mxCell id="30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="29" target="an-CKFU3sV3JPkz43zPG-9" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="165" y="151"/></Array></mxGeometry></mxCell><mxCell id="32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="29" target="16" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="29" value="sen video process task" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="1" vertex="1"><mxGeometry x="-228" y="116" width="120" height="60" as="geometry"/></mxCell><mxCell id="38" value="f" style="swimlane;startSize=0;dashed=1;movable=0;resizable=0;rotatable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1"><mxGeometry x="-759" y="-758" width="685" height="1039" as="geometry"/></mxCell><mxCell id="39" value="per factory" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="38" vertex="1"><mxGeometry x="538" y="41" width="75" height="26" as="geometry"/></mxCell><mxCell id="35" value="end" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="38" vertex="1"><mxGeometry x="50" y="535.5" width="80" height="80" as="geometry"/></mxCell><mxCell id="9" value="get active factory streams" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fa6800;fontColor=#000000;strokeColor=#C73500;" parent="38" vertex="1"><mxGeometry x="247" y="224" width="120" height="60" as="geometry"/></mxCell><mxCell id="57" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.kinesis;" parent="38" vertex="1"><mxGeometry x="83" y="865" width="78" height="78" as="geometry"/></mxCell><mxCell id="58" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.athena;" parent="38" vertex="1"><mxGeometry x="83" y="709" width="78" height="78" as="geometry"/></mxCell><mxCell id="63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;" parent="38" source="57" target="58" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="54" y="852" as="sourcePoint"/><Array as="points"><mxPoint x="122" y="854"/><mxPoint x="122" y="854"/></Array></mxGeometry></mxCell><mxCell id="64" value="orc / athena transformation" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="63" vertex="1" connectable="0"><mxGeometry x="-0.245" y="2" relative="1" as="geometry"><mxPoint x="-70" y="-6" as="offset"/></mxGeometry></mxCell><mxCell id="40" value="" style="swimlane;startSize=0;dashed=1;" parent="1" vertex="1"><mxGeometry x="75" y="-516" width="1011" height="632" as="geometry"/></mxCell><mxCell id="41" value="base" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="40" vertex="1"><mxGeometry x="29" y="19" width="44" height="26" as="geometry"/></mxCell><mxCell id="43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="40" source="an-CKFU3sV3JPkz43zPG-9" target="42" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="an-CKFU3sV3JPkz43zPG-9" value="" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;" parent="40" vertex="1"><mxGeometry x="51" y="508" width="78" height="78" as="geometry"/></mxCell><mxCell id="46" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="40" source="42" target="45" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="42" value="get_clip" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.lambda_function;fillColor=#F58534;gradientColor=none;" parent="40" vertex="1"><mxGeometry x="55.5" y="364" width="69" height="72" as="geometry"/></mxCell><mxCell id="51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="40" source="45" target="50" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="45" value="get clip data" style="whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#F58534;dashed=0;gradientColor=none;" parent="40" vertex="1"><mxGeometry x="222" y="370" width="120" height="60" as="geometry"/></mxCell><mxCell id="54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="40" source="50" target="53" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="50" value="download clip" style="whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#F58534;dashed=0;gradientColor=none;" parent="40" vertex="1"><mxGeometry x="422" y="370" width="120" height="60" as="geometry"/></mxCell><mxCell id="61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="40" source="53" target="60" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="53" value="upload video to s3" style="whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#F58534;dashed=0;gradientColor=none;" parent="40" vertex="1"><mxGeometry x="622" y="370" width="120" height="60" as="geometry"/></mxCell><mxCell id="60" value="sen video datapoint" style="whiteSpace=wrap;html=1;verticalAlign=top;fillColor=#F58534;dashed=0;gradientColor=none;" parent="40" vertex="1"><mxGeometry x="822" y="370" width="120" height="60" as="geometry"/></mxCell><mxCell id="48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="45" target="an-CKFU3sV3JPkz43zPG-1" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="353" y="-381"/></Array></mxGeometry></mxCell><mxCell id="52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="50" target="IiJWaxdS1WecAF-aATmU-47" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="553" y="-727"/></Array></mxGeometry></mxCell><mxCell id="62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="60" target="57" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="957" y="358"/><mxPoint x="-637" y="358"/></Array></mxGeometry></mxCell><mxCell id="56" value="Amazon S3" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;strokeColor=#ffffff;fillColor=#232F3E;dashed=0;verticalLabelPosition=middle;verticalAlign=bottom;align=center;html=1;whiteSpace=wrap;fontSize=10;fontStyle=1;spacing=3;shape=mxgraph.aws4.productIcon;prIcon=mxgraph.aws4.s3;" parent="1" vertex="1"><mxGeometry x="717" y="-709" width="80" height="100" as="geometry"/></mxCell><mxCell id="59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="53" target="56" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>